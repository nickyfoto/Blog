---
layout: post
title:  "6.00.2xå­¦ä¹ ç¬”è®°Week3 Part2"
date:   2015-11-10
author: "Huang Qiang"
tags: [python, mooc, 6.00.2x]
---

### Normal Distribution

![Coefficient of variation](../images/coefficient_of_variation.png)

ç±»ä¼¼è¿™æ ·çš„æ•°æ®åˆ†å¸ƒï¼Œæˆ‘ä»¬å«Normal Distributionã€‚å®ƒæœ‰å¯¹ç§°æ€§ï¼Œåœ¨å¹³å‡æ•°å¤„è¾¾åˆ°å³°å€¼ã€‚åˆè¢«ç§°ä½œGaussian Distributionã€‚å®ƒè¢«ç”¨äºæ¦‚ç‡ç ”ç©¶æœ‰ä¸¤ä¸ªåŸå› ï¼š

1. å¾ˆå¥½çš„æ•°å­¦ç‰¹æ€§
 *  å®ƒç”±Î¼ï¼ˆç®—æœ¯å¹³å‡ï¼‰å’ŒÏƒï¼ˆæ ‡å‡†æ–¹å·®ï¼‰ä¸¤ä¸ªå‚æ•°æ¥æ„æˆ
2. ç°å®ä¸­ç»å¸¸å‡ºç°

é«˜æ–¯åˆ†å¸ƒåœ¨pythonä¸­ä¹Ÿæœ‰å‡½æ•°è¡¨ç¤º`random.gauss()`

```python
import random, pylab

def makeNormal(mean, sd, numSamples):
   samples = []
   for i in range(numSamples):
       samples.append(random.gauss(mean, sd))
   pylab.hist(samples, bins = 101)

makeNormal(0, 1.0, 100000)
pylab.show()
```
![](../images/random.gauss.png)

For normal distributions, the standard deviation can be used to produce something called a **confidence interval**.

#### Confidence interval(ç½®ä¿¡åŒºé—´) ä¸ Confidence Level(ç½®ä¿¡æ°´å¹³)

åœ¨ç»Ÿè®¡å­¦ä¸­ï¼Œä¸€ä¸ªæ¦‚ç‡æ ·æœ¬çš„ç½®ä¿¡åŒºé—´ï¼ˆConfidence intervalï¼‰æ˜¯å¯¹è¿™ä¸ªæ ·æœ¬çš„æŸä¸ªæ€»ä½“å‚æ•°çš„åŒºé—´ä¼°è®¡ã€‚ç½®ä¿¡åŒºé—´å±•ç°çš„æ˜¯è¿™ä¸ªå‚æ•°çš„çœŸå®å€¼æœ‰ä¸€å®šæ¦‚ç‡è½åœ¨æµ‹é‡ç»“æœçš„å‘¨å›´çš„ç¨‹åº¦ã€‚ç½®ä¿¡åŒºé—´ç»™å‡ºçš„æ˜¯è¢«æµ‹é‡å‚æ•°çš„æµ‹é‡å€¼çš„å¯ä¿¡ç¨‹åº¦ï¼Œå³å‰é¢æ‰€è¦æ±‚çš„â€œä¸€å®šæ¦‚ç‡â€ã€‚è¿™ä¸ªæ¦‚ç‡è¢«ç§°ä¸º**(Confidence Level)ç½®ä¿¡æ°´å¹³**ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœåœ¨ä¸€æ¬¡å¤§é€‰ä¸­æŸäººçš„æ”¯æŒç‡ä¸º55%ï¼Œè€Œ**ç½®ä¿¡æ°´å¹³**95%ä¸Šçš„**ç½®ä¿¡åŒºé—´**æ˜¯ï¼ˆ50%,60%ï¼‰ï¼Œé‚£ä¹ˆä»–çš„çœŸå®æ”¯æŒç‡æœ‰ç™¾åˆ†ä¹‹ä¹åäº”çš„æœºç‡è½åœ¨ç™¾åˆ†ä¹‹äº”åå’Œç™¾åˆ†ä¹‹å…­åä¹‹é—´ï¼Œå› æ­¤ä»–çš„çœŸå®æ”¯æŒç‡ä¸è¶³ä¸€åŠçš„å¯èƒ½æ€§å°äºç™¾åˆ†ä¹‹2.5ï¼ˆå‡è®¾åˆ†å¸ƒæ˜¯å¯¹ç§°çš„ï¼‰ã€‚

å¯¹ä¸€ä¸ªç»™å®šæƒ…å½¢çš„ä¼°è®¡æ¥è¯´ï¼Œ**(Confidence Level)ç½®ä¿¡æ°´å¹³**ã€‚è¶Šé«˜ï¼Œæ‰€å¯¹åº”çš„**ç½®ä¿¡åŒºé—´**å°±ä¼šè¶Šå¤§ã€‚

è¿™ä¸¤è€…åˆåœ¨ä¸€èµ·æ¥è¡¨ç¤ºé¢„æµ‹çš„å‡†ç¡®æ€§ã€‚

Confidence interval(ç½®ä¿¡åŒºé—´)æœ‰ä¸€ä¸ªå‡è®¾ï¼Œå®ƒå‡è®¾é¢„æµ‹å½“ä¸­é”™è¯¯çš„åˆ†å¸ƒä¹Ÿæ˜¯Normal Distribution

ä»ç»éªŒä¸Šè¯´ï¼Œä¸€ä¸ªNormal Distribution

* 68%çš„æ•°æ®ä¸meanå·®ä¸€ä¸ªSD
* 95%çš„æ•°æ®ä¸meanå·®ä¸¤ä¸ªSD
* 99.7ï¼…çš„æ•°æ®ä¸meanå·®ä¸‰ä¸ªSD

å› ä¸ºpollä¸å¯èƒ½åšå¾ˆå¤šæ¬¡ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†çš„pollåªåšä¸€æ¬¡ï¼Œä¾èµ–**Standard Error**æ¥æ”¯æ’‘ã€‚Standard Erroræ˜¯æ ‡å‡†æ–¹å·®é¢„æµ‹ã€‚å®ƒå‡è®¾é”™è¯¯å¹³å‡åˆ†å¸ƒï¼Œè€Œä¸”å–æ ·åªå å…¨ä½“çš„å¾ˆå°ä¸€éƒ¨åˆ†ã€‚

ä¾‹å¦‚å–æ ·ç™¾åˆ†æ¯”æ˜¯pï¼Œå…¨ä½“æ˜¯n

Standard Error ï¼ (p(1-p)/n)<sup>1/2</sup>

### Uniform Distribution
å¦å¤–ä¸€ç§Distribution æ˜¯Uniform Distributionã€‚

ä¾‹å¦‚ï¼š`random.choice()` `random.random()`ã€‚

è¿™åœ¨è‡ªç„¶ç•Œä¸­ä¸å¸¸è§ï¼Œä¸€èˆ¬æ˜¯äººé€ çš„ã€‚å¤æ‚å»ºæ¨¡ä¸­ä¸å¤ªç”¨å¾—åˆ°ã€‚

### Exponential Distribution

They're the only continuous distribution that has the memoryless property. What happens at one stage of the distribution is independent of what happens at other stages.

ä¾‹å¦‚ï¼š[inter arrival time](http://blog.simul8.com/simul8-tip-whats-the-difference-between-arrival-rates-and-inter-arrival-times/)

æˆ‘ä»¬çœ‹è¯ç‰©åˆ†å­åœ¨èº«ä½“å†…è¢«æ¸…é™¤çš„é€Ÿç‡ã€‚å‡è®¾è¢«æ¸…é™¤ç‡æ˜¯p

Time | % remained
---  |----------
t<sub>0</sub> | (1-p)<sup>0</sup>
t<sub>1</sub> | (1-p)<sup>1</sup>
t<sub>2</sub> | (1-p)<sup>2</sup>
... | ...
t<sub>k</sub> | (1-p)<sup>k</sup>

ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¯ç‰©åˆ†å­åœ¨äººä½“å†…è¢«æ¸…é™¤çš„æ›²çº¿ï¼š

```python
def clear(n, clearProb, steps):
    numRemaining = [n]
    for t in range(steps):
        numRemaining.append(n*((1-clearProb)**t))
    pylab.plot(numRemaining, label = 'Exponential Decay')

clear(1000, 0.01, 500)
pylab.xlabel('Number of Steps')
pylab.ylabel('Number of Molecules')
pylab.title('Clearance of Molecules')
pylab.semilogy()
pylab.show()

# nä»£è¡¨èµ·å§‹åˆ†å­æ•°ï¼ŒclearProbæ˜¯æ¸…é™¤ç‡ï¼Œstepæ˜¯è¿‡äº†å¤šå°‘æ—¶é—´ã€‚
```
![](../images/exponential_decline.png)

å¦‚æœæˆ‘ä»¬æŠŠyè½´å˜ä¸ºæŒ‡æ•°å•ä½ï¼š`pylab.semilogy()`ï¼Œä¼šå¾—å‡ºä¸€æ¡ç›´çº¿ï¼š
![](../images/exponential_decline_log.png)
è¿™ä¹Ÿæ˜¯æ£€æµ‹æ•°æ®æ˜¯å¦å‘ˆæŒ‡æ•°å‹ä¸‹é™ï¼ˆæˆ–å¢é•¿ï¼‰çš„æ–¹æ³•ã€‚æˆ‘ä»¬ç»å¸¸å¬åˆ°çš„åŠè¡°æœŸä¸å…¶åŒç†ã€‚

è¿™ä¸æ˜¯è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿï¼Œå› ä¸ºæˆ‘ä»¬å¹¶æ²¡æœ‰ä½¿ç”¨éšæœºçš„å‚æ•°ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨éšæœºå‚æ•°ã€‚

```python
def clearSim(n, clearProb, steps):
    numRemaining = [n]
    for t in range(steps):
        numLeft = numRemaining[-1]
        for m in range(numRemaining[-1]):
            if random.random() <= clearProb: 
                numLeft -= 1
        #if t != 0 and t % 100 == 0:
        #	numLeft += numLeft
        numRemaining.append(numLeft)
    pylab.plot(numRemaining, 'ro', label = 'Simulation')
# ä¸Šæ®µä»£ç ä¸­æ¯ä¸€æ­¥åˆ†å­æ•°ï¼Šç•™ä¸‹çš„ç™¾åˆ†ç™¾ã€‚
# è¿™é‡Œæ˜¯æ¯ä¸€æ­¥ï¼Œçœ‹æ¯ä¸ªåˆ†å­ï¼Œå¦‚æœéšæœºæ•°å°äºclearProbï¼Œåˆ™æ¸…é™¤è¯¥åˆ†å­ï¼Œå¦‚æœå¤§äºclearProbï¼Œåˆ™ä¿ç•™ã€‚
```
å®ƒä»¬å¾—å‡ºçš„æ›²çº¿å‡ ä¹ä¸€è‡´ã€‚åŒæ—¶å› ä¸ºéšæœºæ€§çš„å­˜åœ¨ï¼Œåˆä¸ä¼šå®Œå…¨é‡åˆã€‚éšç€åˆ†å­æ•°çš„å‡å°ï¼Œéšæœºéƒ¨åˆ†çš„æ³¢åŠ¨å¼€å§‹å¢å¤§ï¼Œå› ä¸ºå¤§æ•°æ³•åˆ™ä¸å†é€‚ç”¨ã€‚

æ¢ä¸€ç§æƒ…å†µï¼Œå‡è®¾è¿™é‡Œä¸æ˜¯è¯ç‰©åˆ†å­ï¼Œè€Œæ˜¯æŸç§ç—…æ¯’æˆ–ç»†èŒã€‚å®ƒä»¬æ¯100ä¸ªæ—¶é—´å•ä½ä¼šå…‹éš†ä¸€æ¬¡ã€‚å¾—åˆ°çš„å›¾æ˜¯ï¼š
![](../images/exponential_decay_with_clone.png)

æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„åœ¨simulationä¸­æµ‹è¯•å„ç§å¯èƒ½å‡ºç°çš„æƒ…å†µã€‚

[Source Code](../sources/lectureCode_clearSim.py)

---

### Monty Hall Problem

æ•…äº‹æ˜¯è¿™æ ·çš„ã€‚

| No.  | 1  | 2    | 3
|:---: |:---:|:---:|---
|é—¨    | ğŸšª  | ğŸšª  |ğŸšª
|éšæœº   | ğŸ‘  |ğŸ‘   |ğŸš—

ä¸‰é“é—¨åˆ†åˆ«æ˜¯1ï¼Œ2ï¼Œ3å·ã€‚æœ‰ä¸¤åªğŸ‘ï¼Œä¸€è¾†ğŸš—ï¼Œæ”¾åœ¨ä¸‰é“é—¨åã€‚è§‚ä¼—å…ˆé€‰æ‹©ä¸€é“é—¨ã€‚ç„¶åMonty Hallä¼šåœ¨ä½™ä¸‹çš„ä¸¤é“é—¨ä¸­ï¼Œæ‰“å¼€æœ‰ğŸ‘çš„é‚£é“é—¨ï¼ˆä½™ä¸‹ä¸¤é“é—¨ä¸­è‡³å°‘æœ‰ä¸€é“åé¢è‚¯å®šæ˜¯ğŸ‘ï¼Œè€Œä¸”Monty Hallæ˜¯çŸ¥é“çš„ï¼‰ã€‚å†é—®è§‚ä¼—æ˜¯å¦åšæŒä»–åŸæ¥çš„é€‰æ‹©ã€‚

åˆæƒ³æ¥ï¼Œè¿™ä¸ªé—®é¢˜ç›¸å½“äºä¸»æŒäººæ’é™¤æ‰ä¸€åªğŸ‘ï¼Œè®©è§‚ä¼—åœ¨ä½™ä¸‹çš„ğŸš—å’ŒğŸ‘ä¹‹é—´éšæœºé€‰æ‹©ä¸€ä¸ªã€‚æ— è®ºæ€ä¹ˆé€‰ï¼Œæ¦‚ç‡éƒ½æ˜¯1/2ã€‚

ä½†äº‹å®æ˜¯è¿™æ ·å—ï¼Ÿ

ç¬¬ä¸€æ¬¡é€‰çš„æ—¶å€™æ˜¯3é€‰1ï¼Œæ­£ç¡®å¯èƒ½æ€§æ˜¯1/3ï¼Œé”™è¯¯å¯èƒ½æ€§æ˜¯2/3ã€‚

æ¥ä¸‹æ¥Montyè¦åœ¨ä½™ä¸‹çš„ä¸¤ä¸ªé—¨ä¹‹é—´ï¼Œé€‰æ‹©ä¸€ä¸ªåé¢æ˜¯ğŸ‘çš„é—¨ï¼Œå…³é”®æ˜¯ä»–çŸ¥é“å“ªæ‰‡é—¨æ˜¯ğŸ‘ï¼Œä»–çš„é€‰æ‹©å¹¶ä¸æ˜¯éšæœºçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ä»–çš„é€‰æ‹©æ˜¯å—è§‚ä¼—ç¬¬ä¸€æ¬¡é€‰æ‹©çš„å½±å“ï¼Œæ‰€ä»¥è¿™ä¸æ˜¯å®Œå…¨ç‹¬ç«‹çš„ä¸€ä¸ªé€‰æ‹©ã€‚

å› ä¸ºä»–ä¸ä¼šä¸»åŠ¨å¼€æœ‰è½¦çš„é‚£æ‰‡é—¨ã€‚

æ‰€ä»¥å¦‚æœåšæŒç¬¬ä¸€ç§é€‰æ‹©ï¼Œé‚£ä¹ˆä¸­å¥–ç‡æ˜¯1/3ï¼Œä¸ä¸­å¥–ç‡æ˜¯2/3ã€‚å› ä¸ºMontyåé¢åšçš„äº‹æƒ…å¯¹è§‚ä¼—æ²¡æœ‰å½±å“ã€‚å› ä¸ºæ¥ä¸‹æ¥Montyä¼šä¸»åŠ¨æ’é™¤æ‰ä¸€åªğŸ‘ï¼Œå¦‚æœè§‚ä¼—switchï¼Œä¼šåˆ©ç”¨Montyè¿™ä»¶äº‹çš„å½±å“æ¥æé«˜ä¸­å¥–ç‡ã€‚å› ä¸ºä¸åŠ¨çš„ä¸­å¥–ç‡æ˜¯1/3ï¼Œä¸ä¸­å¥–ç‡æ˜¯2/3ã€‚è§‚ä¼—æ­¤æ—¶åªæœ‰ä¸€ä¸ªé€‰æ‹©ï¼Œå¦‚æœåšæŒï¼Œé‚£ä¸­å¥–ç‡è¿˜æ˜¯1/3ä¸å˜ï¼Œå¦‚æœå˜ï¼Œåˆ™æŠŠ1/3ä¸2/3å€’ç½®ï¼Œå˜ä¸ºä¸­å¥–ç‡æ˜¯2/3ï¼Œä¸ä¸­å¥–ç‡æ˜¯1/3ã€‚

```python
def simMontyHall(numTrials, chooseFcn):
    stickWins, switchWins, noWin = (0, 0, 0)
    prizeDoorChoices = [1,2,3] #ä¸‰ä¸ªé—¨
    guessChoices = [1,2,3] #çŒœ
    for t in range(numTrials):
        prizeDoor = random.choice([1, 2, 3]) #è½¦å¯èƒ½åœ¨ä»»æ„ä¸€ä¸ªé—¨åé¢
        guess = random.choice([1, 2, 3]) #ç¬¬ä¸€æ¬¡éšæœºçŒœ
        toOpen = chooseFcn(guess, prizeDoor) #è¿™é‡Œç»™äº†ä¸¤ç§å¼€é—¨æ–¹å¼ï¼Œä¸€ç§æ˜¯MontyèŠ‚ç›®ä¸­çš„å¼€æ³•ï¼Œä»–æ•…æ„å¼€ä¸€æ‰‡åé¢æ˜¯ğŸ‘çš„ï¼Œå¦å¤–ä¸€ç§æ˜¯Montyéšæœºå¼€ï¼Œæˆ‘ä»¬å¯¹æ¯”ï¼Œæ¥çœ‹ç»“æœæœ‰ä½•ä¸åŒã€‚
        if toOpen == prizeDoor: #å¦‚æœå¼€å‡ºæ¥æ˜¯è½¦ï¼Œè§‚ä¼—æ²¡èµ¢
            noWin += 1
        elif guess == prizeDoor: #å¦‚æœè§‚ä¼—ç¬¬ä¸€æ¬¡çŒœçš„æ˜¯è½¦ï¼Œåˆ™stickwin
            stickWins += 1
        else:
            switchWins += 1 #ä½™ä¸‹çš„åˆ™æ˜¯switchwinã€‚
    return (stickWins, switchWins)
```
```python
def montyChoose(guessDoor, prizeDoor):
    if 1 != guessDoor and 1 != prizeDoor:
        return 1
    if 2 != guessDoor and 2 != prizeDoor:
        return 2
    return 3
#å¦‚æœè§‚ä¼—æ²¡å¼€1å·é—¨ï¼Œè€Œä¸”1å·é—¨ä¸ä¸­å¥–ï¼Œåˆ™å¼€1
#å¦‚æœè§‚ä¼—æ²¡å¼€2å·é—¨ï¼Œè€Œä¸”2å·é—¨ä¸ä¸­å¥–ï¼Œåˆ™å¼€2
#å…¶å®ƒå¼€3ã€‚
```
```python
def randomChoose(guessDoor, prizeDoor):
    if guessDoor == 1:
        return random.choice([2,3])
    if guessDoor == 2:
        return random.choice([1,3])
    return random.choice([1,2])
#å¦å¤–ä¸€ç§åˆ™æ˜¯Montyéšæœºå¼€å‰©ä¸‹çš„é—¨ã€‚
```

[Source Code](../sources/montyhall.py)

![](../images/monty_choose.png)ç»¿è‰²æ˜¯switchçš„æ¦‚ç‡ã€‚

![](../images/monty_random_choose.png)å¦‚æœMontyæ²¡æœ‰åˆ»æ„æ’é™¤ä¸€åªğŸ‘ï¼Œè€Œæ˜¯éšä¾¿é€‰ï¼Œåˆ™å®ƒå¯¹è§‚ä¼—æ²¡æœ‰å¸®åŠ©ï¼Œæ‰€ä»¥

